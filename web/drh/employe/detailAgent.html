<style>
/*    .finApproche{
        background-color: rgba(224,142,11,0.3);
    }
    .finContrat
    {
        background-color: rgba(128,0,0,0.3);
    }*/
    
    .finApproche td{
        background-color: rgb(224,142,11);
        font-weight:  bold;
        color: white;
    }
    .finContrat td
    {
        background-color: rgb(221,75,40);
        font-weight:  bold;
        color: white;
    }
</style>
<!--<div class="container" style="font-size: 1.2em;">-->
<div class="box box-solid" ng-if="avoirPermission('consulter', 'employe') == true">

    <div class="box box-header box-primary" style="font-weight: bold;font-size: 1.4em;">
        <div class="col-md-3 ng-cloak" ng-show="estPermanent">
            <div>
                <div  style="margin: auto; text-align: center;">
                    <div id="profil-img" style="width: 200px ; height: 250px; border-radius: 100%; text-align: center; margin: auto;" >
                        <img  ng-src="{{avatar}}" id="previsualisation"  alt="{{employe.prenom| uppercase}} {{employe.nom| uppercase}}" data-toggle="tooltip"  title="{{employe.prenom| uppercase}} {{employe.nom| uppercase}}" class="img-thumbnail" style="width: 200px; height: 250px;" />                   
                    </div>
                </div>
            </div>
            <div style="margin: auto; text-align: center;">
                <label class="label-info" for="profil" style="margin-top: 5px;">
                    <input type="file"  name='profil' id='profil' ng-model="imgProfil" onchange="angular.element(this).scope().preview(this)" accept="image/*" style='display: none;'/>
                    <span class="btn btn-warning" title="Modifier" ng-show="!editProfil" ng-click="toggleButtonProfil()" id="btn_modifier_photo_profil">
                        <i class="fa fa-edit"></i>
                    </span>
                </label>
                <span class="btn btn-danger" title="Annuler" ng-show="editProfil"  ng-click="showDefaultAvatar()">
                    <i class="fa fa-times"></i>
                </span>
                <span class="btn btn-success" title="Appliquer" ng-show="editProfil"  ng-click="uploadAvatar()">
                    <i class="fa fa-check"></i>
                </span>
                <!--<span class="btn btn-warning" ng-disabled="editAvatar"  ng-click="uploadAvatar()">Appliquer</span>-->
            </div>

            <!--<img ng-src="{{avatar}}" id="photo-employe" alt="{{employe.prenom | uppercase}} {{employe.nom | uppercase}}" data-toggle="tooltip"  title="{{employe.prenom | uppercase}} {{employe.nom | uppercase}}" class="img-thumbnail" style="width: 200px; height: 250px;"/>-->
        </div>
        <div class="col-md-7" style="margin-top: 10px;">

            <div style="width: 75%; text-align: justify;">
                PRENOM : {{employe.prenom| uppercase}}  <hr>
            </div> 
            <div style="width: 75%; text-align: justify;">
                NOM : {{employe.nom| uppercase}} <hr>
            </div>
            <div ng-show="employe.matriculeInterne" style="width: 75%; text-align: justify;">
                MATRICULE : {{employe.matriculeInterne}}<hr>
            </div>
            <div style="width: 75%;text-align: justify;" >
                FONCTION : {{parcours[0].fonction.libelle| uppercase}} <hr>
            </div>
            <div style="width: 75%; text-align: justify;">
                ENTITE : {{parcours[0].entite.nom}}<hr>
            </div>

        </div>
        <div class="col-md-2" style="margin-top: 10px;">
            <span ng-if="avoirPermission('supprimer', 'employe') == true" ng-click="deleteAgent(employe)" class="btn btn-danger" title="Supprimer">
                <span class="fa fa-trash"></span>
            </span>           
        </div>
        <!--<img ng-src="{{avatar}}" alt="avatar" title="avatar" class="pull-right img-thumbnail" style="width: 200px; height: 200px;"/>-->
    </div>

    <div class="box-body">
        <div class="box-group" id="accordion">
            <!-- we are adding the .panel class so bootstrap.js collapse plugin detects it -->
            <div class="panel box box-primary box-solid">
                <a data-toggle="collapse" data-parent="#accordion" href="" data-target="#informationPersonnelle" class="box-header with-border">
                    <div >
                        <i class="fa fa-user"></i>
                        <h1 class="box-title ">Informations générales</h1>
                    </div>
                </a>
                <div id="informationPersonnelle" class="panel-collapse collapse">
                    <div class="panel-body row" ng-if="editInfoGenerales == true" id="editInfoGenerales">
                        <form role="form" name="editInfoGeneralesForm" novalidate="">
                            <div class="col-md-9">
                                <div class="row" style="margin-top: 6px; font-size: 1.2em;">
                                    <div class="  col-md-7">
                                        <label style="font-weight: bold;" for="numeroCni"> Numero identification nationale :</label>
                                    </div>
                                    <div class="col-md-4">
                                        <div>
                                            <input type="text" placeholder="Numero d'identification nationale"  ng-pattern="/^[1-2][0-9]{12,}$/"  ng-minlength="13" ng-maxlength="14" class="form-control" name="numeroCni" id="numeroCni" ng-model="employe.numeroCni">
                                        </div>
                                        <div class="alert alert-block alert-danger requis" style="display:none">
                                            <div>Veuillez renseigner ce champs.</div>
                                        </div>
                                        <div class="alert alert-block alert-danger requis" id="cni_dup" style="display:none">
                                            <div>Ce numéro de CNI existe dèja.</div>
                                        </div>
                                        <div class="alert alert-block alert-danger requis non-concorde" style="display:none">
                                            <div>Le numéro de CNI ne concorde pas avec le genre.</div>
                                        </div>
                                        <div ng-messages="editInfoGeneralesForm.numeroCni.$error" role="alert" ng-show="editInfoGeneralesForm.numeroCni.$touched && editInfoGeneralesForm.numeroCni.$invalid" class="alert alert-block alert-danger has-error">
                                            <div ng-message="minlength">Ce champs doit contenir  au minimum 13 chiffres.</div>
                                            <div ng-message="maxlength">Ce champs doit contenir au maximum 14 chiffres.</div>
                                            <div ng-message="pattern">Vérifier votre saisie.</div>
                                        </div>
                                    </div>

                                </div>
                                <div class="row"  style="margin-top: 6px; font-size: 1.2em;" ng-if="estPermanent">
                                    <div class="  col-md-7">
                                        <label style="font-weight: bold;" for="matriculeInterne"> Matricule de solde :</label>
                                    </div>
                                    <div class="col-md-4">
                                        <div>
                                            <input type="text" placeholder="Matricule"  class="form-control" ng-pattern="/^[0-9]{6}\/[a-z]{1}$/i" ng-maxlength="8" ng-minlength="8" id="matriculeInterne" name="matriculeInterne" ng-model="employe.matriculeInterne">
                                        </div>
                                        <div class="alert alert-block alert-danger requis" style="display:none">
                                            <div>Veuillez renseigner ce champs.</div>
                                        </div>
                                        <div class="alert alert-block alert-danger requis" id="mat_int_dup" style="display:none">
                                            <div>Ce numéro de matricule existe dèja.</div>
                                        </div>
                                        <div ng-messages="editInfoGeneralesForm.matriculeInterne.$error" role="alert" ng-show="editInfoGeneralesForm.matriculeInterne.$touched && editInfoGeneralesForm.matriculeInterne.$invalid" class="alert alert-block alert-danger has-error">
                                            <div ng-message="maxlength">Ce champs doit contenir 8 caractères.</div>
                                            <div ng-message="minlength">Ce champs doit contenir 8 caractères.</div>
                                            <div ng-message="pattern">Vérifier votre saisie.</div>
                                        </div>
                                    </div>

                                </div>
                                <div class="row" ng-if="estPermanent" style="margin-top: 6px; font-size: 1.2em;">
                                    <div class="  col-md-7">
                                        <label style="font-weight: bold;"> Caisse sociale :</label>
                                    </div>
                                    <div class="col-md-5">
                                        <div class="row" >
                                            <label for="nonCaisse" class="col-md-4">
                                                <input type="radio" id="nonCaisse" name="caissesociale" ng-model="currentCaisseSociale" value="0" ng-click="removeSelectedCaisseSociale()" />
                                                {{ "Aucun"}}
                                            </label>
                                            <label ng-repeat="caissesociale in caissesociales" for="{{caissesociale.code}}" class="col-md-4" >
                                                <input type="radio"  
                                                       name="caissesociale"
                                                       ng-model="currentCaisseSociale"
                                                       ng-value="{{caissesociale.id}}"
                                                       id="{{caissesociale.code}}" 
                                                       onclick="angular.element(this).scope().getCaisseSociale(this)"/>
                                                {{caissesociale.code}} 
                                            </label>
                                        </div>
                                    </div>                                    
                                </div>
                                <div class="row " ng-if="employe.caisseSociale.id"  style="margin-top: 6px; font-size: 1.2em;">
                                    <div class="  col-md-7">
                                        <label style="font-weight: bold;"> Numéro d'affiliation {{employe.caisseSociale.code}} :</label>
                                    </div>
                                    <div class="col-md-5">
                                        <div class="input-group">
                                            <input  type="text" ng-model="employe.matriculeCaisseSociale"    ng-pattern="/^[0-9]{11}$/" ng-maxlength="11" ng-minlength="11" name="caisseSociale" placeholder="Matricule caisse sociale" class="form-control" >
                                        </div>
                                        <div class="alert alert-block alert-danger requis" style="display:none">
                                            <div>Veuillez renseigner ce champs.</div>
                                        </div>
                                        <div class="alert alert-block alert-danger requis" id="mat_cs_dup" style="display:none">
                                            <div>Ce numéro de matricule existe dèja.</div>
                                        </div>
                                        <div ng-messages="editInfoGeneralesForm.caisseSociale.$error" role="alert" ng-show="editInfoGeneralesForm.caisseSociale.$touched && editInfoGeneralesForm.caisseSociale.$invalid" class="alert alert-block alert-danger has-error">
                                            <div ng-message="maxlength">Ce champs doit contenir 11 caractères.</div>
                                            <div ng-message="minlength">Ce champs doit contenir 11 caractères.</div>
                                            <div ng-message="pattern">Vérifier votre saisie.</div>
                                        </div>
                                    </div>                                    
                                </div>

                                <div class="row "  style="margin-top: 6px; font-size: 1.2em;">
                                    <div class="  col-md-7">
                                        <label style="font-weight: bold;" for="prenom"> Prénom :</label>
                                    </div>
                                    <div class="col-md-4">
                                        <div>
                                            <input type="text" placeholder="Prénom" name="prenom" id="prenom" ng-pattern="/^[a-zâäàéèùêëîïôöçñ]+[a-zâäàéèùêëîïôöçñ .\-]*[a-zâäàéèùêëîïôöçñ]+$/i" ng-minlength="2" class="form-control" ng-model="employe.prenom">    
                                        </div>
                                        <div class="alert alert-block alert-danger requis" style="display:none">
                                            <div>Veuillez renseigner ce champs.</div>
                                        </div>
                                        <div ng-messages="editInfoGeneralesForm.prenom.$error" role="alert" ng-show="editInfoGeneralesForm.prenom.$touched && editInfoGeneralesForm.prenom.$invalid" class="alert alert-block alert-danger has-error">
                                            <div ng-message="minlength">Ce champs doit contenir 2 caractères au minimum.</div>
                                            <div ng-message="pattern">Vérifier votre saisie.</div>
                                        </div>
                                    </div>                                    
                                </div>
                                <div class="row "  style="margin-top: 6px; font-size: 1.2em;">
                                    <div class="  col-md-7">
                                        <label style="font-weight: bold;" for="nom"> Nom :</label>
                                    </div>
                                    <div class="col-md-4">
                                        <div>
                                            <input type="text" placeholder="Nom"  name="nom" id="nom" ng-pattern="/^[a-zâäàéèùêëîïôöçñ]+[a-zâäàéèùêëîïôöçñ .\-]*[a-zâäàéèùêëîïôöçñ]+$/i" ng-minlength="2" class="form-control" ng-model="employe.nom">
                                        </div>
                                        <div class="alert alert-block alert-danger requis" style="display:none">
                                            <div>Veuillez renseigner ce champs.</div>
                                        </div>
                                        <div class="alert alert-block alert-danger requis" style="display:none">
                                            <div>Veuillez renseigner ce champs.</div>
                                        </div>
                                        <div ng-messages="editInfoGeneralesForm.nom.$error" role="alert" ng-show="editInfoGeneralesForm.nom.$touched && editInfoGeneralesForm.nom.$invalid" class="alert alert-block alert-danger has-error">
                                            <div ng-message="minlength">Ce champs doit contenir 2 caractères au minimum.</div>
                                            <div ng-message="pattern">Vérifier votre saisie.</div>
                                        </div>
                                    </div>                                    
                                </div>
                                <div class="row" style="margin-top: 6px; font-size: 1.2em;">
                                    <div class="  col-md-7">
                                        <label style="font-weight: bold;" for="dateDeNaissance"> Date de naissance :</label>
                                    </div>
                                    <div class="col-md-4">
                                        <div>
                                            <input type="date"  placeholder="Date de naissance" name="dateDeNaissance" id="dateDeNaissance"  max="{{today}}" class="form-control" ng-model="employe.dateDeNaissance">
                                        </div>
                                        <div ng-messages="editInfoGeneralesForm.dateDeNaissance.$error" role="alert" ng-show="editInfoGeneralesForm.dateDeNaissance.$invalid"  class="alert alert-block alert-danger has-error">
                                            <div ng-message="max">Cette date doit etre inférieur à la date actuelle</div>
                                        </div>
                                        <div class="alert alert-block alert-danger requis" style="display:none">
                                            <div>Veuillez renseigner ce champs.</div>
                                        </div>
                                    </div>

                                </div>
                                <div class="row " style="margin-top: 6px; font-size: 1.2em;">
                                    <div class="  col-md-7">
                                        <label style="font-weight: bold;" for="lieuDeNaissance" > Lieu de naissance :</label>
                                    </div>
                                    <div class="col-md-4">
                                        <div>
                                            <input type="text" placeholder="Lieu de naissance" name="lieuDeNaissance" id="lieuDeNaissance" ng-pattern="/^[a-zâäàéèùêëîïôöçñ]+[a-zâäàéèùêëîïôöçñ .\-]*[a-zâäàéèùêëîïôöçñ]+$/i" ng-minlength="2" class="form-control" ng-model="employe.lieuDeNaissance">
                                        </div>
                                        <div class="alert alert-block alert-danger requis" style="display:none">
                                            <div>Veuillez renseigner ce champs.</div>
                                        </div>
                                        <div ng-messages="editInfoGeneralesForm.lieuDeNaissance.$error" role="alert" ng-show="editInfoGeneralesForm.lieuDeNaissance.$touched && editInfoGeneralesForm.lieuDeNaissance.$invalid" class="alert alert-block alert-danger has-error">
                                            <div ng-message="minlength">Ce champs doit contenir 2 caractères au minimum.</div>
                                            <div ng-message="pattern">Vérifier votre saisie.</div>
                                        </div>
                                    </div>

                                </div>
                                <div class="row " style="margin-top: 6px; font-size: 1.2em;">
                                    <div class="  col-md-7">
                                        <label style="font-weight: bold;"> Nationnalite :</label>
                                    </div>
                                    <div class="col-md-4">                                   
                                        <div>
                                            <div>
                                                <input type="text"  name="nationalite" id="nationalite" placeholder="Nationalite" ng-pattern="/^[a-zâäàéèùêëîïôöçñ]+[a-zâäàéèùêëîïôöçñ .\-]*[a-zâäàéèùêëîïôöçñ]+$/i" ng-minlength="2" class="form-control" ng-model="employe.nationalite">
                                            </div>
                                            <div class="alert alert-block alert-danger requis" style="display:none">
                                                <div>Veuillez renseigner ce champs.</div>
                                            </div>
                                            <div ng-messages="editInfoGeneralesForm.nationalite.$error" role="alert" ng-show="editInfoGeneralesForm.nationalite.$touched && editInfoGeneralesForm.nationalite.$invalid" class="alert alert-block alert-danger has-error">
                                                <div ng-message="minlength">Ce champs doit contenir 2 caractères au minimum.</div>
                                                <div ng-message="pattern">Vérifier votre saisie.</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row " style="margin-top: 6px; font-size: 1.2em;" >
                                    <div class="  col-md-7">
                                        <label style="font-weight: bold;"> Genre :</label>
                                    </div>
                                    <div class="col-md-4">
                                        <div>
                                            <select ng-model="employe.genre" name="genre" ng-change="checkGenre()" id="genre" class="form-control" ng-options="genre.libelle for genre in genres"></select>
                                        </div>
                                        <div class="alert alert-block alert-danger requis" style="display:none">
                                            <div>Veuillez renseigner ce champs.</div>
                                        </div>
                                        <div class="alert alert-block alert-danger requis non-concorde" style="display:none">
                                            <div>Le genre ne concorde pas avec le numéro de CNI.</div>
                                        </div>
                                    </div>

                                </div>

                                <div class="row" style="margin-top: 6px; font-size: 1.2em;">
                                    <div class="  col-md-7">
                                        <label style="font-weight: bold;" for="dateRecrutement"> Date de recrutement :</label>
                                    </div>
                                    <div class="col-md-4">
                                        <div>
                                            <input type="date"  ng-model="employe.dateRecrutement" min="{{employe.dateDeNaissance}}" name="dateRecrutement" id="dateRecrutement"   class="form-control">
                                        </div>
                                        <div class="alert alert-block alert-danger requis" style="display:none">
                                            <div>Veuillez renseigner ce champs.</div>
                                        </div>
                                        <div ng-messages="editInfoGeneralesForm.dateRecrutement.$error" role="alert" ng-show="editInfoGeneralesForm.dateRecrutement.$invalid"  class="alert alert-block alert-danger has-error">
                                            <div ng-message="min">Cette date doit etre inférieur à la date de naissance</div>
                                        </div>
                                    </div>

                                </div>
                                <div class="row" ng-if="estPermanent" style="margin-top: 6px; font-size: 1.2em;">
                                    <div class="  col-md-7">
                                        <span style="font-weight: bold;">Inscription au mutuelle de santé :</span>
                                    </div>

                                    <div class="col-md-4 row">
                                        <!--<input type="checkbox" name="incrit" ng-model="estMembreMutuelle"  ng-change="toggleMembreMutuelle()">-->
                                        <label for="nonMutuelle" class="col-md-5">
                                            <input type="radio" id="nonMutuelle" ng-model="currentMutuelle" value="0" name="mutuelle" ng-click="removeSelectedMutuelle()" />
                                            {{ "Aucun"}}
                                        </label>
                                        <label ng-repeat="mutuelle in mutuelles" for="{{mutuelle.code}}" class="col-md-5" >
                                            <input type="radio"  
                                                   name="mutuelle"
                                                   ng-value="{{mutuelle.id}}"  
                                                   ng-model="currentMutuelle"
                                                   onclick="angular.element(this).scope().getMutulleSante(this)"
                                                   id="{{mutuelle.code}}" />
                                            {{mutuelle.code}}
                                        </label>
                                    </div>
                                </div>
                                <div class="row" ng-if="estPermanent"  style="margin-top: 6px; font-size: 1.2em;">
                                    <div class="col-md-7">
                                        <span style="font-weight: bold;"> Syndicat :</span>
                                    </div>
                                    <div class="col-md-5 row">
                                    
                                        <label for="none" class="col-md-4">
                                            Aucun
                                            <input type="radio"  name="syndicat" value="0" ng-model="currentSyndicat" ng-click="removeSelectedSyndicat()" id="none" />                 
                                        </label>
                                            <label ng-repeat="syn in syndicats" for="{{syn.code}}" class="col-md-4" >
                                            {{syn.code}}
                                            <input type="radio"  
                                                   name="syndicat" 
                                                   ng-model="currentSyndicat"
                                                   ng-value="{{syn.id}}"
                                                   id="{{syn.code}}" 
                                                   onclick="angular.element(this).scope().getSyndicat(this)"/>    
                                        </label>
                                    </div>
                                </div>                              
                            </div>
                            <div class="col-md-3">
                            </div>
                            <div class="row "  style="margin-top: 10px;">
                                <div class="col-md-12">
                                    <span style="margin-right: 10px;" class="btn btn-danger pull-right" ng-click="cancelEmployeEdit()"><i class="fa fa-times"> Annuler</i></span>
                                    <span style="margin-right: 10px;" class="btn btn-success pull-right" type="submit" ng-disabled="editInfoGeneralesForm.$invalid"  ng-click="controlFormEditEmploye()"><i class="fa fa-check"> Enregistrer</i></span>
                                </div>
                            </div>
                        </form>
                    </div>

                    <!--                        fin edit form-->
                    <div class="panel-body row" ng-if="editInfoGenerales == false">

                        <div class="col-md-9">
                            <div class="row" style="margin-top: 6px; font-size: 1.2em;">
                                <div class="  col-md-7">
                                    <span style="font-weight: bold;"> Numero identification nationale :</span>
                                </div>
                                <div class="col-md-4">
                                    <span> {{employe.numeroCni}}</span>
                                </div>
                            </div>

                            <div class="row" style="margin-top: 6px; font-size: 1.2em;">
                                <div class="  col-md-7">
                                    <span style="font-weight: bold;"> Date de naissance :</span>
                                </div>
                                <div class="col-md-4">
                                    <span>  {{employe.dateDeNaissance| date: 'dd MMM yyyy'}}</span>
                                </div>
                            </div>
                            <div class="row " style="margin-top: 6px; font-size: 1.2em;">
                                <div class="  col-md-7">
                                    <span style="font-weight: bold;"> Lieu de naissance :</span>
                                </div>
                                <div class="col-md-4">
                                    <span> {{employe.lieuDeNaissance}}</span>
                                </div>
                            </div>
                            <div class="row " style="margin-top: 6px; font-size: 1.2em;">
                                <div class="  col-md-7">
                                    <span style="font-weight: bold;"> Nationnalite :</span>
                                </div>
                                <div class="col-md-4">
                                    <span> {{employe.nationalite}}</span>
                                </div>
                            </div>
                            <div class="row " style="margin-top: 6px; font-size: 1.2em;" >
                                <div class="  col-md-7">
                                    <span style="font-weight: bold;"> Genre :</span>
                                </div>
                                <div class="col-md-4">
                                    <span> {{employe.genre.libelle}}</span>
                                </div>
                            </div>

                            <div class="row" style="margin-top: 6px; font-size: 1.2em;">
                                <div class="  col-md-7">
                                    <span style="font-weight: bold;"> Date de recrutement :</span>
                                </div>
                                <div class="col-md-4">
                                    <span> {{employe.dateRecrutement| date: 'dd MMM yyyy'}}</span>
                                </div>
                            </div>
                            <div class="row"  ng-if="membreMutuelle.mutuelleSante" style="margin-top: 6px; font-size: 1.2em;">
                                <div class="  col-md-7">
                                    <span style="font-weight: bold;"> Mutuelle:</span>
                                </div>
                                <div class="col-md-4">
                                    <span> {{membreMutuelle.mutuelleSante.code}}</span>
                                </div>
                            </div>
                            <div class="row" ng-if="employe.syndicat != null" style="margin-top: 6px; font-size: 1.2em;">
                                <div class="  col-md-7">
                                    <span style="font-weight: bold;"> Syndicat :</span>
                                </div>
                                <div class="col-md-4">
                                    <span> {{employe.syndicat.code}}</span>
                                </div>
                            </div>
                            <div class="row " ng-if="employe.caisseSociale.id" style="margin-top: 6px; font-size: 1.2em;">
                                <div class="  col-md-7">
                                    <span style="font-weight: bold;"> Numero d'affiliation {{employe.caisseSociale.code}} :</span>
                                </div>
                                <div class="col-md-4">
                                    <span> {{employe.matriculeCaisseSociale}}</span>
                                </div>
                            </div>
                            <div class="row " style="margin-top: 6px; font-size: 1.2em;" >
                                <div class="  col-md-7">
                                    <span style="font-weight: bold;"> Entité :</span>
                                </div>
                                <div class="col-md-4">
                                    <span> {{parcours[0].entite.nom}}</span>
                                </div>
                            </div>
                            <div class="row " style="margin-top: 6px; font-size: 1.2em;" >
                                <div class="  col-md-7">
                                    <span style="font-weight: bold;"> Supérieur hierarchique :</span>
                                </div>
                                <div class="col-md-4">
                                    <span> {{mon_responsable}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12" style="padding: 4px;" ng-if="avoirPermission('modifier', 'employe') == true">
                            <span class="btn btn-warning pull-right" ng-click="toggleEmployeEditForm()"><i class="fa fa-edit"> Modifier</i></span>
                        </div>
                    </div>

                </div>
            </div>
            <!-- Situation matrimorniale -->
            <div class="panel box box-primary box-solid" ng-if="estPermanent == true && avoirPermission('consulter', 'situationmatrimoniale') == true">
                <a data-toggle="collapse" data-parent="#accordion" href="" data-target="#situationMatrimorniale" class="box-header with-border">
                    <div >
                        <i class="fa fa-users"></i>
                        <h1 class="box-title ">Situation matrimorniale</h1>
                    </div>
                </a>

                <div id="situationMatrimorniale" class="panel-collapse collapse">
                    <div class="panel-body" ng-if="editSituationMatri == true">
                        <form role="form" name="editSituationMatriForm" enctype="multipart/form-data" class="editSituationMatriForm" id="editSituationMatriForm" novalidate="">
                            <div class="row" style="margin-top: 50px; font-size: 1.2em;">
                                <div class="  col-md-7">
                                    <span style="font-weight: bold;"> Statut matrimorniale :</span>
                                </div>
                                <div class="col-md-4">
                                    <div>
                                        <select ng-model="employe.situationMatrimoniale" ng-change="checkSituationMatrimoniale()"  class="form-control" id="situationMatri" ng-options="situation.libelle for situation in situations"></select>  
                                    </div>
                                    <div class="alert alert-block alert-danger requis" style="display:none">
                                        <div>Veuillez renseigner ce champs.</div>
                                    </div>
                                </div>
                            </div>  
                            <div class="row " ng-if="estMarie && homme" style="margin-top: 5px; font-size: 1.2em;">
                                <div class="  col-md-7">
                                    <label style="font-weight: bold;" for="nombreDeFemme"> Nombre de femme(s) :</label>
                                </div>
                                <div class="col-md-4">
                                    <div>
                                        <input type="number" ng-model="employe.nombreDeFemme" name="nombreDeFemme" id="nombreDeFemme" ng-pattern="/^[0-9]{1}$/"  class="form-control">
                                    </div>
                                    <div class="alert alert-block alert-danger requis" style="display:none">
                                        <div>Veuillez renseigner ce champs.</div>
                                    </div>
                                    <div ng-messages="editSituationMatriForm.nombreDeFemme.$error" role="alert" ng-show="editSituationMatriForm.nombreDeFemme.$touched && editSituationMatriForm.nombreDeFemme.$invalid" class="alert alert-block alert-danger has-error">
                                        <div ng-message="pattern">Vérifier votre saisie.</div>
                                    </div>
                                </div>
                            </div>  
                            <div class="row " style="margin-top: 5px; font-size: 1.2em;">
                                <div class="  col-md-7">
                                    <label style="font-weight: bold;" for="nombreEnfant"> Nombre d'enfant(s):</label>
                                </div>
                                <div class="col-md-4">
                                    <div>
                                        <input type="number"  ng-model="employe.nombreEnfant" name="nombreEnfant" id="nombreEnfant" ng-pattern="/^[0-9]{1,2}$/"  class="form-control">
                                    </div>
                                    <div class="alert alert-block alert-danger requis" style="display:none">
                                        <div>Veuillez renseigner ce champs.</div>
                                    </div>
                                    <div ng-messages="editSituationMatriForm.nombreEnfant.$error" role="alert" ng-show="editSituationMatriForm.nombreEnfant.$touched && editSituationMatriForm.nombreEnfant.$invalid" class="alert alert-block alert-danger has-error">
                                        <div ng-message="pattern">Vérifier votre saisie.</div>
                                    </div>
                                </div>
                            </div> 
                            <table class="table">                    
                                <thead>
                                    <tr>
                                        <th>Type de document</th>
                                        <th>Description</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>                                            
                                        <td>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <select ng-model="document.typeDocument" class="form-control" id="entite" ng-options="typedocument.code  for typedocument in typedocuments"></select>  
                                                </div>
                                                <div class="alert alert-block alert-danger requis type-doc-missing" style="display:none">
                                                    <div>Veuillez renseigner ce champs.</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <textarea  cols="50" style="height: 140px; resize: none;"  ng-model="document.description" name="document" placeholder="Description du document" ></textarea>
                                                </div>
                                                <div class="alert alert-block alert-danger requis" style="display:none">
                                                    <div>Veuillez renseigner ce champs.</div>
                                                </div>                                      
                                            </div>
                                        </td>
                                        <td>
                                            <div class="row">
                                                <div class="col-md-7">
                                                    <div class="detailUpload">
                                                    </div>
                                                    <div>                                     
                                                        <div class="alert alert-block alert-danger requis missing-file" style="display:none">
                                                            <div>Veuillez sélectionner un fichier.</div>
                                                        </div>
                                                        <div class="alert alert-block alert-danger requis error-format" style="display:none">
                                                            <div>Vérifier que le(s) fichier(s) envoyé(s) sont au bon format.</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <input class="form-control hidden" multiple  type="file"  onchange="angular.element(this).scope().previewUpload(this, 'editSituationMatriForm')" name="fichiers" accept="application/pdf" id="fichiersSituationMatri">
                                                    <label for="fichiersSituationMatri">
                                                        <span class="btn btn-primary" title="Pièce jointe" ><i class="fa fa-paperclip"></i></span>
                                                    </label>
                                                    <i class="fa fa-times btn btn-danger" title="Annuler l'upload" ng-click="cancelFileUpload()"></i>
                                                </div>                                       
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="row " style="margin-top: 5px; font-size: 1.2em;">
                                <div class="col-md-offset-9 col-md-3 ">
                                    <span style="margin-right: 10px;" class="btn btn-success pull-right" type="submit" ng-disabled="editSituationMatriForm.$invalid"  ng-click="controlSituationMatriFormEdit('editSituationMatriForm')"><i class="fa fa-check"> Enregistrer</i></span>
                                    <button ng-click="toggleSituationMatriEditForm()" class="btn btn-danger"><i class="fa fa-times" style="font-weight: bold"> Annuler</i></button>
                                </div>
                            </div>                    
                        </form>
                    </div>
                    <div class="panel-body" ng-if="editSituationMatri == false">

                        <div class="row" style="font-size: 1.2em;">
                            <div class="  col-md-7">
                                <span style="font-weight: bold;"> Statut matrimorniale :</span>
                            </div>
                            <div class="col-md-4">
                                <span> {{employe.situationMatrimoniale.libelle}}</span>
                            </div>
                        </div>  
                        <div class="row " ng-if="employe.nombreDeFemme != null" style="margin-top: 5px; font-size: 1.2em;">
                            <div class="  col-md-7">
                                <span style="font-weight: bold;"> Nombre de femme(s) :</span>
                            </div>
                            <div class="col-md-4">
                                <span> {{employe.nombreDeFemme}}</span>
                            </div>
                        </div>  
                        <div class="row " style="margin-top: 5px; font-size: 1.2em;">
                            <div class="  col-md-7">
                                <span style="font-weight: bold;"> Nombre d'enfant(s):</span>
                            </div>
                            <div class="col-md-4">
                                <span> {{employe.nombreEnfant}}</span>
                            </div>
                        </div> 

                        <div class="row " style="margin-top: 5px; font-size: 1.2em;" ng-if="avoirPermission('modifier', 'situationmatrimoniale') == true">
                            <div class="col-md-offset-9 col-md-3 ">
                                <button ng-click="toggleSituationMatriEditForm()" class="btn btn-warning"><i class="fa fa-edit" style="font-weight: bold"> Modifier</i></button>
                            </div>
                        </div> 


                    </div>
                </div>
            </div>
            <!-- Contact -->
            <div class="panel box box-primary box-solid" ng-if="avoirPermission('consulter', 'contact') == true">
                <a data-toggle="collapse" data-parent="#accordion" href="" data-target="#contact" class="box-header with-border">
                    <div >
                        <i class="fa fa-address-book"></i>
                        <h1 class="box-title ">Contacts</h1>
                    </div>
                </a>

                <div id="contact" class="panel-collapse collapse">
                    <div class="panel-body" ng-if="editContact == true">
                        <form role="form" name="editContactForm" class="editContactForm" novalidate="">
                            <div class="row" style="margin-top: 6px; font-size: 1.2em;">
                                <div class="col-md-7">
                                    <label style="font-weight: bold;"> Téléphone 1 : </label>
                                </div>
                                <div class="col-md-4">
                                    <div>
                                        <input type="text"  ng-model="contacts.numero1"  placeholder="Téléphone 1" class="form-control" ng-pattern="/^(77|76|78|70|33){1}[0-9]{7}$/" ng-minlength="9" id="telephone1" name="telephone1">
                                    </div>
                                    <div class="alert alert-block alert-danger requis" style="display:none">
                                        <div>Veuillez renseigner ce champs.</div>
                                    </div>
                                    <div class="alert alert-block alert-danger requis" id="num_tel_1_dup" style="display:none">
                                        <div>Ce numéro de téléphone existe dèja.</div>
                                    </div>
                                    <div ng-messages="editContactForm.telephone1.$error" role="alert" ng-show="editContactForm.telephone1.$touched && editContactForm.telephone1.$invalid" class="alert alert-block alert-danger has-error">
                                        <div ng-message="minlength">Ce champs doit contenir 9 caractères.</div>
                                        <div ng-message="pattern">Vérifier votre saisie.</div>
                                    </div>
                                </div>
                            </div>  
                            <div class="form-group">
                                <label for="autreNumero" > Ajouter un autre numéro :</label>
                                <input type="checkbox"  ng-model="autreNumero"  ng-click="toggleNumeroTel2()" id="autreNumero">                                              
                            </div>
                            <div class="row" ng-if="contacts.numero2 || autreNumero == true" style="margin-top: 6px; font-size: 1.2em;">
                                <div class="col-md-7">
                                    <label style="font-weight: bold;"> Téléphone 2 :</label>
                                </div>
                                <div class="col-md-4">
                                    <div> 
                                        <input type="text"  ng-model="contacts.numero2" placeholder="Téléphone 2" ng-pattern="/^(77|76|78|70|33){1}[0-9]{7}$/" ng-minlength="9" id="telephone2" name="telephone2" class="form-control">
                                    </div>
                                    <div class="alert alert-block alert-danger requis" style="display:none">
                                        <div>Veuillez renseigner ce champs.</div>
                                    </div>
                                    <div class="alert alert-block alert-danger requis" id="num_tel_2_dup" style="display:none">
                                        <div>Ce numéro de téléphone existe dèja.</div>
                                    </div>
                                    <div ng-messages="editContactForm.telephone2.$error" role="alert" ng-show="editContactForm.telephone2.$touched && editContactForm.telephone2.$invalid" class="alert alert-block alert-danger has-error">
                                        <div ng-message="minlength">Ce champs doit contenir 9 caractères.</div>
                                        <div ng-message="pattern">Vérifier votre saisie.</div>
                                    </div>
                                </div>
                            </div>  
                            <div class="row " style="margin-top: 6px; font-size: 1.2em;">
                                <div class="  col-md-7">
                                    <label style="font-weight: bold;"> Email:</label>
                                </div>
                                <div class="col-md-4">
                                    <div>
                                        <input type="text" ng-model="contacts.email" ng-pattern="/^[a-z]+[a-z0-9._-]+[a-z]+@[a-z]+[a-z.-]+\.[a-z.]{2,3}$/i" ng-minlength="9" class="form-control" name="email" id="email" placeholder="Email" >
                                    </div>
                                    <div class="alert alert-block alert-danger requis" style="display:none">
                                        <div>Veuillez renseigner ce champs.</div>
                                    </div>
                                    <div class="alert alert-block alert-danger requis" id="email_dup" style="display:none">
                                        <div>Cet adresse e-mail existe dèja.</div>
                                    </div>
                                    <div ng-messages="editContactForm.email.$error" role="alert" ng-show="editContactForm.email.$touched && editContactForm.email.$invalid" class="alert alert-block alert-danger has-error">
                                        <div ng-message="minlength">Ce champs doit contenir 9 caractères.</div>
                                        <div ng-message="pattern">Vérifier votre saisie.</div>
                                    </div>
                                </div>
                            </div>
                            <div class="row " style="margin-top: 5px; font-size: 1.2em;">
                                <div class="col-md-3 ">
                                    <span class="btn btn-success" type="submit" ng-disabled="editContactForm.$invalid"  ng-click="controlContactFormEdit()"><i class="fa fa-check"> Enregistrer</i></span>
                                    <button ng-click="cancelContactsEdit()" class="btn btn-warning"><i class="fa fa-times" style="font-weight: bold"> Annuler</i></button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="panel-body"  ng-if="editContact == false">

                        <div class="row " style="margin-top: 6px; font-size: 1.2em;">
                            <div class="  col-md-7">
                                <span style="font-weight: bold;"> Téléphone 1 :</span>
                            </div>
                            <div class="col-md-4">
                                <span> {{contacts.numero1}}</span>
                            </div>
                        </div>  
                        <div class="row " ng-if="contacts.numero2 != null" style="margin-top: 6px; font-size: 1.2em;">
                            <div class="  col-md-7">
                                <span style="font-weight: bold;"> Téléphone 2 :</span>
                            </div>
                            <div class="col-md-4">
                                <span> {{contacts.numero2}}</span>
                            </div>
                        </div>  
                        <div class="row " style="margin-top: 6px; font-size: 1.2em;">
                            <div class="  col-md-7">
                                <span style="font-weight: bold;"> Email:</span>
                            </div>
                            <div class="col-md-4">
                                <span> {{contacts.email}}</span>
                            </div>
                        </div>  
                        <div class="row " style="margin-top: 5px; font-size: 1.2em;" ng-if="avoirPermission('modifier', 'contact') == true">
                            <div class="col-md-offset-9 col-md-3 ">
                                <button ng-click="toggleContactEditForm()" class="btn btn-warning"><i class="fa fa-edit" style="font-weight: bold"> Modifier</i></button>
                                <button class="btn btn-danger" ng-disabled="!contacts.id" ng-click="deleteContact(contacts.id)"><i class="fa fa-trash"> Supprimer</i></button>

                            </div>
                        </div> 
                    </div>
                </div>
            </div>
            <div class="panel box box-primary box-solid" ng-if="avoirPermission('consulter', 'adresse') == true">
                <a data-toggle="collapse" data-parent="#accordion" href="" data-target="#adresse" class="box-header with-border">
                    <div >
                        <i class="fa fa-home"></i>
                        <h1 class="box-title ">Adresse</h1>
                    </div>
                </a>

                <div id="adresse" class="panel-collapse collapse">

                    <div class="panel-body" ng-if="editAdresse == true">
                        <form role="form" name="editAdresseForm" class="editAdresseForm" novalidate="">
                            <div class="row " style="margin-top: 6px; font-size: 1.2em;">
                                <div class="  col-md-7">
                                    <label style="font-weight: bold;"> Ville actuelle :</label>
                                </div>
                                <div class="col-md-4">
                                    <div>
                                        <input type="text" name="ville" id="ville" ng-model="adresse.ville"  placeholder="Ville actuelle" ng-pattern="/^[a-zâäàéèùêëîïôöçñ]+[a-zâäàéèùêëîïôöçñ .\-]*[a-zâäàéèùêëîïôöçñ]+$/i" ng-minlength="2"  class="form-control">
                                    </div>
                                    <div class="alert alert-block alert-danger requis" style="display:none">
                                        <div>Veuillez renseigner ce champs.</div>
                                    </div>
                                    <div ng-messages="editAdresseForm.ville.$error" role="alert" ng-show="editAdresseForm.ville.$touched && editAdresseForm.ville.$invalid" class="alert alert-block alert-danger has-error">
                                        <div ng-message="minlength">Ce champs doit contenir 2 caractères au minimum.</div>
                                        <div ng-message="pattern">Vérifier votre saisie.</div>
                                    </div>
                                </div>
                            </div>  
                            <div class="row " style="margin-top: 6px; font-size: 1.2em;">
                                <div class="  col-md-7">
                                    <label style="font-weight: bold;"> Quartier :</label>
                                </div>
                                <div class="col-md-4">
                                    <div>
                                        <input type="text" name="quartier" id="quartier" ng-model="adresse.quartier"   placeholder="Quartier"  ng-pattern="/^[a-zâäàéèùêëîïôöçñ]+[0-9a-zâäàéèùêëîïôöçñ .\-]*[0-9a-zâäàéèùêëîïôöçñ]+$/i" ng-minlength="2"  class="form-control">
                                    </div>
                                    <div class="alert alert-block alert-danger requis" style="display:none">
                                        <div>Veuillez renseigner ce champs.</div>
                                    </div>
                                    <div ng-messages="editAdresseForm.quartier.$error" role="alert" ng-show="editAdresseForm.quartier.$touched && editAdresseForm.quartier.$invalid" class="alert alert-block alert-danger has-error">
                                        <div ng-message="minlength">Ce champs doit contenir 2 caractères au minimum.</div>
                                        <div ng-message="pattern">Vérifier votre saisie.</div>
                                    </div>
                                </div>
                            </div>  
                            <div class="row " style="margin-top: 5px; font-size: 1.2em;">
                                <div class="col-md-offset-9 col-md-3 ">
                                    <span style="margin-right: 10px;" class="btn btn-success pull-right" type="submit" ng-disabled="editAdresseForm.$invalid"  ng-click="controlAdresseFormEdit()"><i class="fa fa-check"> Enregistrer</i></span>
                                    <button ng-click="toggleAdresseEditForm()" class="btn btn-warning"><i class="fa fa-times" style="font-weight: bold"> Annuler</i></button>
                                </div>
                            </div> 
                        </form>
                    </div>
                    <div class="panel-body" ng-if="editAdresse == false">
                        <div class="row " style="margin-top: 6px; font-size: 1.2em;">
                            <div class="  col-md-7">
                                <span style="font-weight: bold;"> Ville actuelle :</span>
                            </div>
                            <div class="col-md-4">
                                <span> {{adresse.ville}}</span>
                            </div>
                        </div>  
                        <div class="row " style="margin-top: 6px; font-size: 1.2em;">
                            <div class="  col-md-7">
                                <span style="font-weight: bold;"> Quartier :</span>
                            </div>
                            <div class="col-md-4">
                                <span> {{adresse.quartier}}</span>
                            </div>
                        </div>  
                        <div class="row " style="margin-top: 5px; font-size: 1.2em;" ng-if="avoirPermission('modifier', 'adresse') == true">
                            <div class="col-md-offset-9 col-md-3 ">
                                <button ng-click="toggleAdresseEditForm()" class="btn btn-warning"><i class="fa fa-edit" style="font-weight: bold"> Modifier</i></button>
                                <button class="btn btn-danger" ng-disabled="!adresse.id" ng-click="deleteAdresse(adresse.id)"><i class="fa fa-trash"> Supprimer</i></button>

                            </div>
                        </div> 
                    </div>
                </div>
            </div>

            <!-- Informations professionnelles -->
            <div class="panel box box-primary box-solid" ng-if="avoirPermission('consulter', 'servir') == true">
                <a data-toggle="collapse" data-parent="#accordion" href="" data-target="#informationProfessionnelle" class="box-header with-border">
                    <div >
                        <i class="fa fa-edit"></i>
                        <h1 class="box-title ">Parcours professionnel</h1>
                    </div>
                </a>

                <div id="informationProfessionnelle" class="panel-collapse collapse">

                    <div class="col-md-12" ng-if="avoirPermission('ajouter', 'servir') == true">

                        <form role="form" class="newEmploiForm" name="newEmploiForm" novalidate="">        
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Fonction</th>
                                            <th>Entite</th>
                                            <th>Date prise de service</th>
                                            <th>Type de contrat</th>
                                            <th>
                                                <span ng-show="servir.typeContrat == typecontrats[0]">Durée contrat(mois)</span>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>                                            
                                            <td>
                                                <div class="form-group">
                                                    <div class="input-group">
                                                        <input type="text" list="lesfonctions" ng-model="fonction.libelle" name="fonction" id="fonction" ng-pattern="/^[a-zâäàéèùêëîïôöçñ]+[a-zâäàéèùêëîïôöçñ .\-]*[a-zâäàéèùêëîïôöçñ]+$/i" ng-minlength="2" placeholder="Fonction"   class="form-control">
                                                        <datalist id="lesfonctions">
                                                            <option   ng-repeat="f in fonctions" value="{{f.libelle}}">
                                                        </datalist>
                                                    </div>
                                                    <div class="alert alert-block alert-danger requis" style="display:none">
                                                        <div>Veuillez renseigner ce champs.</div>
                                                    </div>
                                                    <div class="alert alert-block alert-danger conflit-poste" style="display:none">
                                                        <div>Ce poste est dèja occupé par quelqun d'autre.</div>
                                                    </div>
                                                    <div ng-messages="newEmploiForm.fonction.$error" role="alert" ng-show="newEmploiForm.fonction.$touched && newEmploiForm.fonction.$invalid" class="alert alert-block alert-danger has-error">
                                                        <div ng-message="minlength">Ce champs doit contenir 2 caractères au minimum.</div>
                                                        <div ng-message="pattern">Vérifier votre saisie.</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="form-group">

                                                    <div class="input-group">
                                                        <select ng-model="servir.entite" class="form-control" id="entite" ng-options="entite.nom group by entite.typeEntite.libelle for entite in entites"></select>  
                                                    </div>
                                                    <div class="alert alert-block alert-danger requis" style="display:none">
                                                        <div>Veuillez renseigner ce champs.</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>

                                                <div class="form-group">
                                                    <div class="input-group">
                                                        <input type="date" ng-model="servir.debut" name="debut" min="{{employe.dateRecrutement}}" id="debut"    class="form-control">
                                                    </div>
                                                    <div class="alert alert-block alert-danger requis" style="display:none">
                                                        <div>Veuillez renseigner ce champs.</div>
                                                    </div>
                                                    <div ng-messages="newEmploiForm.debut.$error" role="alert" ng-show="editSituationMatriForm.debut.$invalid"  class="alert alert-block alert-danger has-error">
                                                        <div ng-message="min">Cette date doit etre supérieur à la date de recrutement</div>
                                                    </div>

                                                </div>
                                            </td>
                                            <td>
                                                <div class="form-group">
                                                    <div class="input-group">
                                                        <select ng-model="servir.typeContrat" style="min-width: 110px;" class="form-control" id="contrat" ng-options="typecontrat.code for typecontrat in typecontrats"></select>
                                                    </div>
                                                    <div class="alert alert-block alert-danger requis" style="display:none">
                                                        <div>Veuillez renseigner ce champs.</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="form-group" ng-if="servir.typeContrat.code == 'cdd'">
                                                    <div class="input-group">
                                                        <input type="number" ng-model="servir.dureeDuContrat"   ng-pattern="/^[1-9][0-9]?$/"  name="dureeDuContrat" id="dureeDuContrat" class="form-control">
                                                    </div>
                                                    <div class="alert alert-block alert-danger requis" style="display:none">
                                                        <div>Veuillez renseigner ce champs.</div>
                                                    </div>
                                                    <div ng-messages="newEmploiForm.dureeDuContrat.$error" role="alert" ng-show="newEmploiForm.dureeDuContrat.$touched && newEmploiForm.dureeDuContrat.$invalid" class="alert alert-block alert-danger has-error">
                                                        <div ng-message="pattern">Vérifier votre saisie.</div>
                                                    </div>                                  
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td>
                                                <input type="submit" ng-disabled="newEmploiForm.$invalid" class="btn btn-block btn-success" ng-click="controlNewJobForm(servir)" value="AJOUTER">
                                            </td>
                                            <td>
                                                <input type="reset" ng-click="reinitialiserFormulaireParcours()"  class="btn btn-times btn-danger"  value="ANNULER">
                                            </td>
                                        </tr>

                                    </tbody>
                                </table>

                            </div>
                        </form>
                    </div>
                    <div class="panel-body table-responsive" style="margin-top: 6px; font-size: 1.2em;">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Date prise de service</th>
                                    <th>Entite</th>
                                    <th>Fonction</th>
                                    <th>Type de contrat</th>
                                    <th>Date fin de service</th>
                                    <th ng-show="avoirPermission('supprimer', 'servir') == true">Actions</th>
                                </tr>
                            </thead>
                            <tbody> 

                                <tr ng-repeat="unparcours in parcours" 
                                    ng-class="{'finApproche' : finContratApproche == true && unparcours.finService == 0 ,
                                                'finContrat' : finContratDepasse == true && unparcours.finService == 0}">
                                    <td>{{unparcours.debut| date: 'dd MMM yyyy'}}</td>
                                    <td>{{unparcours.entite.nom}}</td>
                                    <td>{{unparcours.fonction.libelle}}</td>
                                    <td>{{unparcours.typeContrat.libelle}}</td>
                                    <td>{{unparcours.fin | date: 'dd MMM yyyy'}}</td>
                                    <td>
                                        <button class="btn btn-primary" 
                                                ng-show="avoirPermission('modifier', 'servir') == true && unparcours.finService == 0 && unparcours.fin != null"  
                                                title="Prolonger le contrat" 
                                                ng-click="prolongerContrat(unparcours)">
                                            <i class="fa fa-arrow-right"></i>
                                        </button>
                                        <button class="btn btn-danger" 
                                                ng-show="avoirPermission('modifier', 'servir') == true  && unparcours.finService == 0"  
                                                title="Fin de service" 
                                                ng-click="finirService(unparcours)">
                                            <i class="fa fa-times"></i>
                                        </button>
                                        <button class="btn btn-danger" title="Supprimer"  ng-show="unparcours.finService == 1 && avoirPermission('supprimer', 'servir') == true" ng-click="deleteParcours(unparcours.id)">
                                            <i class="fa fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                </div>
            </div>
            <!-- Grade -->
            <div class="panel box box-primary box-solid" ng-if="estPermanent && avoirPermission('consulter', 'grade') == true">
                <a data-toggle="collapse" data-parent="#accordion" href="" data-target="#grade" class="box-header with-border">
                    <div >
                        <i class="fa fa-male"></i>
                        <h1 class="box-title ">Grade</h1>
                    </div>            
                </a>

                <div id="grade" class="panel-collapse collapse">
                    <div class="panel-body">
                        <div>
                            <div class="pull-right" style="padding: 5px 0px 5px 0px;" ng-if="gradeActu">
                                <span style="font-weight: bold">
                                    Date du prochain avancement : <span style="color: blue;">{{gradeActu.dateProchainAvancement| date: 'dd MMM yyyy'}}</span><br>
                                    Type d'avancement : <span style="color: blue;">{{gradeActu.grade.typeAvancement.libelle}}</span>
                                </span>
                            </div>

                            <form role="form" name="newGradeForm" novalidate="" ng-if="avoirPermission('ajouter', 'grade') == true">
                                <div>
                                    <button class="btn btn-primary btn-block" id="nouvel-grade" ng-click="toggleGradeList()">
                                        <span style="font-weight: bold; font-size: 1.2em;" ng-show="showGradeList == false">Ajouter un grade <i class="fa fa-eye"></i></span>
                                        <span style="font-weight: bold; font-size: 1.2em;" ng-show="showGradeList == true">Fermer <i class="fa fa-eye-slash"></i></span>
                                    </button>
                                </div>
                                <div ng-if="avoirPermission('consulter', 'grade') == true && showGradeList == true">
                                    <div class="row">
                                        <label class="col-md-2">
                                            <input type="radio" name="selection"  value=""  ng-model="selection"/>
                                            {{ "Aucun"}}
                                        </label>

                                        <span class="col-md-3" ng-show="grades[0].corps != null" ng-repeat="(corps, value) in grades | groupBy: 'corps.libelle'">
                                            <label>
                                                <input type="radio" name="selection"  value="{{corps}}"  ng-model="$parent.selection"/>
                                                {{ corps}}
                                            </label>
                                        </span>

                                        <span class="col-md-2" ng-show="grades[0].corps == null" ng-repeat="(classe, value) in grades | groupBy: 'classe.libelle'">
                                            <label>
                                                <input type="radio" name="selection"  value="{{classe}}"  ng-model="$parent.selection"/>
                                                Classe {{ classe}}
                                            </label>
                                        </span>

                                    </div>
                                    <div>
                                        <table class="table table-bordered table-striped" ng-show="selection != ''">
                                            <thead class="thead-dark">
                                                <tr ng-show="grades[0].corps != null">
                                                    <th style="text-align:center;">Classe</th>
                                                    <th ng-repeat="(classe, value) in grades | filterBy: ['corps.libelle']: selection | groupBy: 'classe.libelle'">
                                                        <span style="font-weight: bold;">{{ classe}}</span>                                
                                                    </th>
                                                </tr>
                                                <tr ng-show="grades[0].corps == null">
                                                    <th style="text-align:center;">Categorie / <br> Niveau</th>
                                                    <th ng-repeat="(categorie, value) in grades | filterBy: ['classe.libelle']: selection | groupBy: 'categorie.libelle'">
                                                        <span style="font-weight: bold;">{{ categorie}}</span>                                
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-show="grades[0].corps != null">
                                                    <td style="text-align:center; font-weight: bold;"></td>
                                                    <td ng-repeat="(classe, value) in grades | filterBy: ['corps.libelle']: selection | groupBy: 'classe.libelle'">
                                                        <span ng-repeat="grade in value| orderBy : 'echelon.libelle'">
                                                            <label for="{{grade.id}}" title="{{grade.indice}}">
                                                                <input type="radio" id="{{grade.id}}" name="grade" ng-value="{{grade}}"  ng-model="historiqueGrade.grade"/>
                                                                Echelon {{ grade.echelon.libelle}}
                                                            </label><br>
                                                        </span>
                                                    </td>
                                                </tr> 
                                                <tr ng-show="grades[0].corps == null" ng-repeat="(niveau, value) in grades | filterBy: ['classe.libelle']: selection | groupBy: 'niveau.libelle'">
                                                    <td style="text-align:center; font-weight: bold;">{{niveau}}</td>
                                                    <td ng-repeat="(categorie, value) in grades | filterBy: ['classe.libelle']: selection | groupBy: 'categorie.libelle'">
                                                        <span ng-repeat="grade in value|  filterBy : ['niveau.libelle'] : niveau | orderBy : 'echelon.libelle'">
                                                            <label for="{{grade.id}}" title="{{grade.indice}}">
                                                                <input type="radio" id="{{grade.id}}" name="grade" ng-value="{{grade}}"  ng-model="historiqueGrade.grade"/>
                                                                Echelon {{ grade.echelon.libelle}}
                                                            </label><br>
                                                        </span>
                                                    </td>
                                                </tr> 
                                            </tbody>
                                        </table>
                                        <div class="alert alert-block alert-danger requis grade-not-selected" style="display:none">
                                            <div>Veuillez selectionner un grade.</div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 pull-right" ng-show="selection != ''">
                                        <span ng-click="controlGradeForm()" class="btn btn-success" title="Ajouter" ><i class="fa fa-plus"></i> Ajouter</span>
                                        <span ng-click="reinitialiserFormulaireAvancement()" class="btn  btn-danger" title="Annuler" ><i class="fa fa-times"></i> Annuler</span>
                                    </div>
                                </div>
                                
                            </form>

                            <div >
                                <div class="panel-body table-responsive no-padding col-md-10" style="margin-top: 6px; font-size: 1.2em;">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Type d'avancement</th>
                                                <th>Corps</th>
                                                <th>Classe</th>
                                                <th>Niveau</th>
                                                <th>Catégorie</th>
                                                <th>Echelon</th>                      
                                                <th>Date de passation</th>
                                                <th>Suppression</th>
                                            </tr>
                                        </thead>
                                        <tbody> 

                                            <tr ng-repeat="ungrade in mesgrades" >
                                                <td>{{ungrade.grade.typeAvancement.libelle}}</td>
                                                <td>{{ungrade.grade.corps.libelle}}</td>
                                                <td>{{ungrade.grade.classe.libelle}}</td>
                                                <td>{{ungrade.grade.niveau.libelle}}</td>
                                                <td>{{ungrade.grade.categorie.libelle}}</td>
                                                <td>{{ungrade.grade.echelon.libelle}}</td>
                                                <td>{{ungrade.datePassation| date: 'dd MMM yyyy'}}</td>
                                                <td><button class="btn btn-danger"  ng-if="avoirPermission('supprimer', 'grade') == true" ng-click="deleteGrade(ungrade.id)"><i class="fa fa-trash"> Supprimer</i></button>
                                                </td>
                                            </tr>


                                        </tbody>
                                    </table>
                                </div>

                            </div>
                        </div>  

                    </div>
                </div>
            </div>

            <!-- Formation -->
            <div class="panel box box-primary box-solid" ng-if="estPermanent && avoirPermission('consulter', 'formation') == true">
                <a data-toggle="collapse" data-parent="#accordion" href="" data-target="#formation" class="box-header with-border">
                    <div >
                        <i class="fa fa-book"></i>
                        <h1 class="box-title ">Formation</h1>
                    </div>
                </a>

                <div id="formation" class="panel-collapse collapse">

                    <form role="form" class="formationForm" name="newFormationForm" id="newFormationForm" novalidate="" ng-if="avoirPermission('ajouter', 'formation') == true">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Libelle</th>
                                        <th>Date début</th>
                                        <th>Date fin</th>
                                        <th>Diplomante</th>
                                        <th><span ng-if="diplomante">Nom diplome</span></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" name="libelle" ng-pattern="/^[a-zâäàéèùêëîïôöçñ]+[a-zâäàéèùêëîïôöçñ .\-']*[a-zâäàéèùêëîïôöçñ]+$/i" ng-model="formation.libelle" ng-minlength="2" class="form-control" id="libelle">
                                                </div>
                                                <div class="alert alert-block alert-danger requis" style="display:none">
                                                    <div>Veuillez renseigner ce champs.</div>
                                                </div>
                                                <div ng-messages="newFormationForm.libelle.$error" role="alert" ng-show="newFormationForm.libelle.$touched && newFormationForm.libelle.$invalid" class="alert alert-block alert-danger has-error">
                                                    <div ng-message="minlength">Ce champs doit contenir 2 chiffres minimum.</div>
                                                    <div ng-message="pattern">Vérifier votre saisie.</div>
                                                </div>

                                            </div>
                                        </td>
                                        <td>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="date" ng-model="formation.dateDebut" max="{{today}}" name="dateDebut" class="form-control" id="dateDebut" > 
                                                </div>
                                                <div class="alert alert-block alert-danger requis" style="display:none">
                                                    <div>Veuillez renseigner ce champs.</div>
                                                </div>
                                                <div ng-messages="newFormationForm.dateDebut.$error" role="alert" ng-show="newFormationForm.dateDebut.$invalid"  class="alert alert-block alert-danger has-error">
                                                    <div ng-message="max">Cette date ne doit pas dépasser la date actuelle</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="date" ng-model="formation.dateFin"  name="dateFin" min="{{dateDebut}}" max="{{today}}" class="form-control" id="dateFin" > 
                                                </div>
                                                <div class="alert alert-block alert-danger requis" style="display:none">
                                                    <div>Veuillez renseigner ce champs.</div>
                                                </div>
                                                <div ng-messages="newFormationForm.dateFin.$error" role="alert" ng-show="newFormationForm.dateFin.$invalid"  class="alert alert-block alert-danger has-error">
                                                    <div ng-message="min">Cette date doit etre superieure à la date de début</div>
                                                    <div ng-message="max">Cette date ne doit pas dépasser la date actuelle</div>
                                                </div>

                                            </div>
                                        </td>
                                        <td>
                                            <input type="checkbox" id="diplomante" ng-click="toggleDiplomante()">
                                        </td>
                                        <td>
                                            <div class="form-group" ng-if="diplomante">
                                                <div class="input-group">
                                                    <input type="text" name="libelleDiplome" ng-pattern="/^[a-zâäàéèùêëîïôöçñ]+[a-zâäàéèùêëîïôöçñ .\-']*[a-zâäàéèùêëîïôöçñ]+$/i" ng-model="diplome.nom" ng-minlength="2" class="form-control" id="libelleDiplome">
                                                </div>
                                                <div class="alert alert-block alert-danger requis" style="display:none">
                                                    <div>Veuillez renseigner ce champs.</div>
                                                </div>
                                                <div ng-messages="newFormationForm.libelleDiplome.$error" role="alert" ng-show="newFormationForm.libelleDiplome.$touched && newFormationForm.libelleDiplome.$invalid" class="alert alert-block alert-danger has-error">
                                                    <div ng-message="minlength">Ce champs doit contenir 2 chiffres minimum.</div>
                                                    <div ng-message="pattern">Vérifier votre saisie.</div>
                                                </div>

                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Type de document</th>
                                        <th>Description</th>
                                        <th colspan="3">Actions</th>
                                    </tr>
                                    <tr>                                            
                                        <td>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <select ng-model="document.typeDocument" class="form-control" id="entite" ng-options="typedocument.code  for typedocument in typedocuments"></select>  
                                                </div>
                                                <div class="alert alert-block alert-danger requis type-doc-missing" style="display:none">
                                                    <div>Veuillez renseigner ce champs.</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <textarea  cols="50" style="height: 140px; resize: none;"  ng-model="document.description" name="document" placeholder="Description du document" ></textarea>
                                                </div>
                                                <div class="alert alert-block alert-danger requis" style="display:none">
                                                    <div>Veuillez renseigner ce champs.</div>
                                                </div>                                      
                                            </div>
                                        </td>

                                        <td colspan="3">
                                            <div class="row">
                                                <div class="col-md-7">
                                                    <div class="detailUpload">
                                                    </div>
                                                    <div>                                     
                                                        <div class="alert alert-block alert-danger requis missing-file" style="display:none">
                                                            <div>Veuillez sélectionner un fichier.</div>
                                                        </div>
                                                        <div class="alert alert-block alert-danger requis error-format" style="display:none">
                                                            <div>Vérifier que le(s) fichier(s) envoyé(s) sont au bon format.</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <input class="form-control hidden" multiple  type="file"  onchange="angular.element(this).scope().previewUpload(this, 'newFormationForm')" name="fichiers" accept="application/pdf" id="fichiersFormation">
                                                    <label for="fichiersFormation">
                                                        <span class="btn btn-primary" title="Pièce jointe" ><i class="fa fa-paperclip"></i></span>
                                                    </label>
                                                    <span class="btn btn-danger" title="Annuler l'upload" ng-click="cancelFileUpload()">
                                                        <i class="fa fa-times" ></i>
                                                    </span>
                                                </div>                                       
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>

                                        </td>
                                        <td>

                                        </td>
                                        <td>

                                        </td>
                                        <td colspan="2">                                              
                                            <button ng-click="controlFormationFormation('newFormationForm')" ng-disabled="newFormationForm.$invalid" class="btn btn-success">
                                                <i class="fa fa-plus"> Ajouter</i>
                                            </button> 
                                            <button ng-click="reinitialiserFormulaireFormation()"  class="btn btn-danger">
                                                <i class="fa fa-times"> Annuler</i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </form>
                    <div ng-if="formations.length > 0">

                        <div class="panel-body table-responsive no-padding">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Libelle</th>
                                        <th>Date debut</th>
                                        <th>Date fin</th>
                                        <th>Diplomante</th>
                                        <th>Diplome</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="formation in formations">

                                        <td>{{ formation.libelle}}</td>  
                                        <td>{{ formation.dateDebut | date: 'dd MMM yyyy' }}</td> 
                                        <td>{{ formation.dateFin | date: 'dd MMM yyyy'}}</td> 
                                        <td>
                                            <input type="checkbox" disabled="disabled" ng-checked="{{(formation.diplome !=null) ? true : false}}">
                                        </td> 
                                        <td>{{(formation.diplome !=null) ? formation.diplome.nom : ""}}</td> 
                                        <td class="col-md-3">
                                            <div class="row col-md-12">
                                                <div class="col-md-3">
                                                    <button ng-click="visualiserDocumentformation(formation.id)" class="btn btn-primary"><i class="fa fa-eye"></i></button>
                                                </div>
                                                <div class="col-md-3">
                                                    <button class="btn btn-danger" ng-if="groupeUtilisateur.code == 'DRH_AD'" ng-click="deleteFormationAndDocument(formation.id)"><i class="fa fa-trash"></i></button>
                                                </div>
                                            </div>
                                        </td>

                                    </tr>
                                </tbody>
                            </table>
                        </div>


                    </div>

                </div>
            </div>
            <!--             ABSENCE
                        <div class="panel box box-primary box-solid"  ng-if="avoirPermission('consulter', 'absence') == true">
                            <a data-toggle="collapse" data-parent="#accordion" href="" data-target="#absence" class="box-header with-border">
                                <div >
                                    <i class="fa fa-bookmark"></i>
                                    <h1 class="box-title ">Absence</h1>
                                </div>
                            </a>
            
                            <div id="absence" class="panel-collapse collapse">
            
                                <div class="container">
            
                                    <div class="row">
                                        <div class="col-md-11">
                                            <div class="panel-body table-responsive no-padding col-md-11">
                                                <table class="table table-striped">
                                                    <thead>
                                                        <tr>
                                                            <th>Date</th>
                                                            <th>Service</th>
                                                            <th>Fonction</th>
                                                            <th>Durée </th>
                                                            <th>Deductible</th>
                                                            <th>Justification</th>
                                                            <th>Détails</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody> 
            
                                                        <tr>
                                                            <td class="col-md-2">
                                                                <span> 10/6/2017</span>
                                                            </td>
                                                            <td class="col-md-2">
                                                                <span> Rectorat</span>
                                                            </td>
                                                            <td class="col-md-2">
                                                                <span> Stagiaire</span>
                                                            </td >
                                                            <td class="col-md-2">
                                                                <span> 3 jour(s)</span>
                                                            </td >
                                                            <td class="col-md-2">
                                                                <span> Non déductible</span>
                                                            </td >
                                                            <td class="col-md-2">
                                                                <span> Non justifié</span>
                                                            </td >
                                                            <td>
                                                                <div class="col-md-2 ">
                                                                    <button ng-click="" class="btn btn-primary"><i class="fa fa-eye"></i></button>
                                                                </div>
                                                            </td>
            
                                                        </tr>
            
            
            
            
                                                    </tbody>
                                                </table>
                                            </div>
            
                                        </div>
                                    </div>
                                </div>  
                            </div>
            
            
                        </div>
                         CONGE
            
                        <div class="panel box box-primary box-solid"  ng-if="avoirPermission('consulter', 'conge') == true">
                            <a data-toggle="collapse" data-parent="#accordion" href="" data-target="#conge" class="box-header with-border">
                                <div >
                                    <i class="fa fa-bookmark-o"></i>
                                    <h1 class="box-title ">Conge</h1>
                                </div>
                            </a>
            
                            <div id="conge" class="panel-collapse collapse">
            
                                <div class="container">
            
                                    <div class="row">
                                        <div class="col-md-11">
                                            <div class="panel-body table-responsive no-padding col-md-11">
                                                <table class="table table-striped">
                                                    <thead>
                                                        <tr>
            
                                                            <th>Service</th>
                                                            <th>Fonction</th>
                                                            <th>Date de retour du précédent congé </th>
                                                            <th>Date depart en congé</th>
                                                            <th>Nombre de jour(s)</th>
                                                            <th>Détails</th>
            
                                                        </tr>
                                                    </thead>
                                                    <tbody> 
            
                                                        <tr>
                                                            <td class="col-md-2">
                                                                <span>Rectorat </span>
                                                            </td>
                                                            <td class="col-md-2">
                                                                <span> Stagiaire</span>
                                                            </td>
                                                            <td class="col-md-2">
                                                                <span> 10/6/2017</span>
                                                            </td >
                                                            <td class="col-md-2">
                                                                <span> 10/6/2017</span>
                                                            </td >
                                                            <td class="col-md-2">
                                                                <span> 30 jour(s)</span>
                                                            </td >
                                                            <td>
                                                                <div class="col-md-2 ">
                                                                    <button ng-click="" class="btn btn-primary"><i class="fa fa-eye"></i></button>
                                                                </div>
                                                            </td>
            
                                                        </tr>
            
            
            
            
                                                    </tbody>
                                                </table>
                                            </div>
            
                                        </div>
                                    </div>
                                </div>  
                            </div>
            
            
                        </div>-->


            <!-- Document -->
            <div class="panel box box-primary box-solid" ng-if="avoirPermission('consulter', 'document') == true">
                <a data-toggle="collapse" data-parent="#accordion" href="" data-target="#document" class="box-header with-border">
                    <div >
                        <i class="fa fa-book"></i>
                        <h1 class="box-title ">Documents</h1>
                    </div>
                </a>

                <div id="document" class="panel-collapse collapse">
                    <!-- Custom Tabs -->

                    <!--Formulaire d'ajout-->

                    <div class="col-md-12" ng-if="avoirPermission('ajouter', 'document') == true">

                        <form role="form"  novalidate="" name="newDocumentForm" id="newDocumentForm">        
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Type de document</th>
                                            <th>Description</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>                                            
                                            <td>
                                                <div class="form-group">
                                                    <div class="input-group">
                                                        <select ng-model="document.typeDocument" class="form-control"  ng-options="typedocument.code  for typedocument in typedocuments"></select>  
                                                    </div>
                                                    <div class="alert alert-block alert-danger requis type-doc-missing" style="display:none">
                                                        <div>Veuillez renseigner ce champs.</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="form-group">
                                                    <div class="input-group">
                                                        <textarea  cols="50" style="height: 140px; resize: none;"  ng-model="document.description" name="document" placeholder="Description du document" ></textarea>
                                                    </div>
                                                    <div class="alert alert-block alert-danger requis" style="display:none">
                                                        <div>Veuillez renseigner ce champs.</div>
                                                    </div>                                      
                                                </div>
                                            </td>
                                            <td>
                                                <div class="row">
                                                    <div class="col-md-7">
                                                        <div class="detailUpload">
                                                        </div>
                                                        <div>                                     
                                                            <div class="alert alert-block alert-danger requis missing-file" style="display:none">
                                                                <div>Veuillez sélectionner un fichier.</div>
                                                            </div>
                                                            <div class="alert alert-block alert-danger requis error-format" style="display:none">
                                                                <div>Vérifier que le(s) fichier(s) envoyé(s) sont au bon format.</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <input class="form-control hidden"  type="file"  onchange="angular.element(this).scope().previewUpload(this, 'newDocumentForm')" name="fichiers" accept="application/pdf" id="fichiers">
                                                        <label for="fichiers">
                                                            <span class="btn btn-primary" title="Pièce Jointe">
                                                                <i class="fa fa-paperclip" ></i>
                                                            </span>
                                                        </label>
                                                        <span class="btn btn-danger" title="Annuler l'upload" ng-click="cancelFileUpload()">
                                                            <i class="fa fa-times"></i>
                                                        </span>

                                                    </div>                                       
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>                                            
                                            <td>                                  
                                            </td>
                                            <td> 
                                            </td>
                                            <td>
                                                <div class="row">
                                                    <span class="pull-right">
                                                        <span class="btn btn-success" ng-click="ajouterNouveauDocument('newDocumentForm')"><i class="fa fa-plus"> Ajouter</i></span>
                                                        <span class="btn btn-danger" ng-click="viderDocumentForm()"><i class="fa fa-times"> Annuler</i></span>
                                                    </span>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </form>
                    </div>
                    <!-- Fin Formulaire-->

                    <div class="nav-tabs-custom">
                        <ul class="nav nav-tabs">
                            <li ng-repeat="typedoc in typedocuments" ng-class="{ 'active' : $first}" >
                                <a data-target="#type{{$index + 1}}" data-toggle="tab" href="">{{typedoc.code}}</a>
                            </li>
                            <!--      <li><a data-target="#arretes" data-toggle="tab" href="">Arretes</a></li>
                                  <li><a data-target="#decrets" data-toggle="tab" href="">Decrets</a></li>-->
                        </ul>

                        <div class="tab-content">
                            <div ng-repeat="typedoc in typedocuments" ng-class="{ 'active' : $first}" class="tab-pane" id="type{{$index + 1}}">
                                <div class="row">
                                    <div class="col-md-12">

                                        <div class="panel-body table-responsive no-padding col-md-12">

                                            <table class="table table-striped table-bordered tableau-document" datatable="ng" >

                                                <thead>
                                                    <tr>
                                                        <th>Description </th>
                                                        <th>Date d'enregistrement</th>
                                                        <th>Actions</th>

                                                    </tr>
                                                </thead>
                                                <tbody> 
                                                    <tr ng-repeat="doc in documents" ng-if="doc.typeDocument.code == typedoc.code">
                                                        <td>
                                                            {{doc.description}}
                                                        </td >
                                                        <td>
                                                            <span>{{doc.dateEnregistrement| date:'dd MMM yyyy'}}</span>
                                                        </td >
                                                        <td>
                                                            <div>
                                                                <a class="btn btn-primary" ng-click="visualiserDocument(doc.emplacement)">
                                                                    <i class="fa fa-eye"></i>
                                                                </a>
                                                                <button class="btn btn-danger" ng-if="groupeUtilisateur.code == 'DRH_AD'" ng-click="deleteArchive(doc)"><i class="fa fa-trash"></i></button>

                                                            </div>
                                                        </td>

                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>

                                    </div>
                                </div>

                            </div><!-- /.tab-pane -->

                        </div><!-- /.tab-content -->
                    </div><!-- nav-tabs-custom -->
                </div>
            </div>
            <!-- /fin document -->
            <!-- /.box-body -->
        </div>
    </div>
</div><!-- /.box -->
<!--</div>-->
<!-- /.col -->